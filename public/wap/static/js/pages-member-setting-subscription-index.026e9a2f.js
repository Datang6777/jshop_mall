(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-member-setting-subscription-index"],{"0a4c":function(t,s,i){var n=i("33a7");"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var e=i("4f06").default;e("6565830c",n,!0,{sourceMap:!1,shadowMode:!1})},"33a7":function(t,s,i){s=t.exports=i("2350")(!1),s.push([t.i,".agreement[data-v-99716dda]{position:fixed;bottom:%?30?%;width:100%;margin:%?20?% 0;text-align:center}.color-o[data-v-99716dda]{margin:0 %?10?%}.cell-hd-title[data-v-99716dda]{font-size:%?30?%;\r\n    /* color: #000000; */display:block;width:%?180?%}.cell-hd-desc[data-v-99716dda]{font-size:%?24?%;\r\n    /* display: block; */width:%?200?%;color:#888\r\n    /* margin-top: 50rpx; */}.subscription-btn[data-v-99716dda]{background-color:#333;color:#fff;padding:0 %?20?%;line-height:%?46?%;margin-right:%?20?%;border:1px solid #333}.isTrue[data-v-99716dda]{background-color:#fff;border:1px solid #333;color:#333;line-height:%?46?%}",""])},"6b7c":function(t,s,i){"use strict";i.r(s);var n=i("9964"),e=i("793c");for(var a in e)"default"!==a&&function(t){i.d(s,t,function(){return e[t]})}(a);i("f889");var c,u=i("f0c5"),o=Object(u["a"])(e["default"],n["b"],n["c"],!1,null,"99716dda",null,!1,n["a"],c);s["default"]=o.exports},"793c":function(t,s,i){"use strict";i.r(s);var n=i("f117"),e=i.n(n);for(var a in n)"default"!==a&&function(t){i.d(s,t,function(){return n[t]})}(a);s["default"]=e.a},9964:function(t,s,i){"use strict";var n,e=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("v-uni-view",{staticClass:"content"},[i("v-uni-view",{staticClass:"content-top"},[i("v-uni-view",{staticClass:"cell-group right-img"},t._l(t.msgList,function(s,n){return s.status?i("v-uni-view",{key:n,staticClass:"cell-item"},[i("v-uni-view",{staticClass:"cell-item-hd"},[i("v-uni-view",{staticClass:"cell-hd-title"},[t._v(t._s(s.name))]),i("v-uni-view",{staticClass:"cell-hd-desc"},[t._v(t._s(s.desc))])],1),i("v-uni-view",{staticClass:"cell-item-ft"},[s.is?t._e():i("v-uni-view",{staticClass:"subscription-btn",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.subscription(s.func,s.tmpl)}}},[t._v("添加通知")]),s.is?i("v-uni-view",{staticClass:"subscription-btn isTrue",on:{click:function(i){arguments[0]=i=t.$handleEvent(i),t.subscription(s.func,s.tmpl)}}},[t._v("已加通知")]):t._e()],1)],1):t._e()}),1)],1)],1)},a=[];i.d(s,"b",function(){return e}),i.d(s,"c",function(){return a}),i.d(s,"a",function(){return n})},f117:function(t,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var n={data:function(){return{msgList:[{name:"下单通知",desc:"商城下单成功后通知我",func:"order",tmpl:"",status:!1,is:!1},{name:"支付通知",desc:"订单支付后通知我",func:"pay",tmpl:"",status:!1,is:!1},{name:"待付通知",desc:"未支付订单取消前通知我",func:"cancel",tmpl:"",status:!1,is:!1},{name:"发货通知",desc:"订单发货后通知我",func:"ship",tmpl:"",status:!1,is:!1},{name:"售后通知",desc:"订单售后结果通知我",func:"after_sale",tmpl:"",status:!1,is:!1},{name:"退款通知",desc:"售后退款结果通知我",func:"refund",tmpl:"",status:!1,is:!1}]}},onShow:function(){this.getSubscriptionTmplIds()},methods:{getSubscriptionTmplIds:function(){var t=this;this.$api.getSubscriptionTmplIds(function(s){if(s.status)for(var i=0;i<t.msgList.length;i++)t.msgList[i].tmpl=s.data[t.msgList[i].func].template_id,t.msgList[i].is=s.data[t.msgList[i].func].is,""!=t.msgList[i].tmpl&&(t.msgList[i].status=!0);else t.$common.errorToShow("消息订阅配置信息获取失败")})},subscription:function(t,s){var i=this;uni.requestSubscribeMessage({tmplIds:[s],success:function(t){if("requestSubscribeMessage:ok"==t.errMsg){var n={template_id:s,status:t[s]};i.$api.setSubscriptionStatus(n,function(t){i.getSubscriptionTmplIds()})}else i.$common.errorToShow("操作失败，请稍候重试！",function(t){i.getSubscriptionTmplIds()})}})}}};s.default=n},f889:function(t,s,i){"use strict";var n=i("0a4c"),e=i.n(n);e.a}}]);